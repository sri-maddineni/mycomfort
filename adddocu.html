
<!DOCTYPE html>
<html>
  <head>
    <title>Add Docu</title>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <h1>Create Firestore Document</h1>
    <form>
      <label for="text">Enter title:</label>
      <input type="text" id="title" name="title">
      <br><br>
      <label for="text">Enter des:</label>
      <input type="text" id="des" name="des" width="2000px">
      <br><br>
      <label for="text">Enter link:</label>
      <input type="text" id="link" name="link" width="2000px">
      <br><br>
      <label for="text">Enter date:</label>
      <input type="text" id="date" name="date" width="2000px">
      <br><br>
      <label for="text">Enter belong: </label>
      <input type="text" id="belong" name="belong" width="2000px">
      <br><br>
      <label for="text">Enter size: </label>
      <input type="text" id="size" name="size" width="2000px">
      <br><br>
     

      <br>
      
      <button type="button" id="submit" name="submit">Submit</button>

     
    </form>


    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-app.js";
        import { getFirestore, setDoc, addDoc , doc, collection} from "https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore.js";


       // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics.js";


       // import { initializeApp } from "firebase/app";
       // import { getFirestore } from "firebase/firestore";

        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyBSd0FFY4jYumI731SXaZ1RpAEXsrp6fog",
          authDomain: "bec-hostels-64d05.firebaseapp.com",
          databaseURL: "https://bec-hostels-64d05-default-rtdb.firebaseio.com",
          projectId: "bec-hostels-64d05",
          storageBucket: "bec-hostels-64d05.appspot.com",
          messagingSenderId: "174951857966",
          appId: "1:174951857966:web:abe5f329cb70d6c01ac4bf",
          measurementId: "G-9J50LVPRKQ"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);

        const db = getFirestore(app);


       // const analytics = getAnalytics(app);

       submit.addEventListener('click',(e)=>{

        

      
        var title=document.getElementById("title").value;

        var link=document.getElementById("link").value;

        var des=document.getElementById("des").value;
       
        var belong=document.getElementById("belong").value;

        var date=document.getElementById("date").value;

        var size=document.getElementById("size").value;

        var branch=belong.substring(3,6);
        var batch=belong.substring(0,3);
        

          let path="/Documents/"+batch+"/"+branch;
          addDoc(collection(db, path), {
                        title:title,
                        des:des,
                        link:link,
                        size:size,
                        date:date,
                        belong:belong,
                        id:""
                      });
          

    

    alert("Done!")
 
       })

       


       
      </script>




</body>
</html>


